# UI_TA v0.10 — Декларация интерфейса

> Роль: **Перподователь (TA)**
> Версия: v0.10
> Документ описывает **только интерфейс**: экраны, кнопки, тексты и тосты.
> Все бизнес‑правила и архитектурные детали см. в L1/L2/L3.

---

## 0. Навигационные правила
- Всегда доступна кнопка `⬅️ Назад`.
- Возврат в меню: `🏠 Главное меню`.
- Для длинных списков: пагинация `◀︎` / `▶︎`.
- Все действия сопровождаются тостами.

---

## 1. Регистрация

### Стартовый экран
Текст:
```
👋 Добро пожаловать в курс!
Выберите роль для регистрации:
```
Кнопки:
```
🎓 Зарегистрироваться как студент
👨‍🏫 Зарегистрироваться как профессор
```

### Ввод кода
- Текст: «Введите секретный код курса».
- Ошибка: `⛔ Неверный код`
- Кнопки при ошибке: `🔄 Ввести заново`, `❌ Отмена`.
- Успех: `✅ Регистрация завершена` → переход в Главное меню.

---

## 2. Главное меню преподавателя
Кнопки:
```
➕ Создать расписание
📅 Управление расписанием
🧩 Мои пресеты
📚 Методические материалы
📝 Проверка работ
```

---

## 3. Создание расписания

### Экран выбора
Кнопки:
```
🧱 Создать слоты (на день)
⚡ Применить пресет
⬅️ Назад
```

### 🧱 Создать слоты (на день)
- Формат: `🏫 Очно` / `🖥 Онлайн`.
- Дата: ближайшие 10 дней или `📅 Будущее` (месяц→неделя→день).
- Время: выбор старта/финиша (диапазон→час→минуты).
- Длительность: `15 / 20 / 25 / 30` мин, `Больше…`.
- Вместимость:
  - Онлайн: `1 / 2 / 3`
  - Очно: `1 / 2 / 3 / Несколько… / Все желающие`
- Предпросмотр: карточка + кнопки `👁 Показать список`, `✅ Создать`.

**Тосты:**
- `✅ Создано: N (пропущено: K)`
- `⛔ Время финиша должно быть позже старта`
- `⛔ Длительность вне диапазона`
- `⚠️ Превышен лимит 6 часов`
- `⚠️ Некоторые слоты пропущены (конфликт/дубликат)`

### ⚡ Применить пресет
- Выбор пресета (до 5, пагинация).
- Выбор периода: `Ближайшие 4 недели`, `Ближайшие 8 недель`, `Задать период…`.
- Предпросмотр карточки: кнопки `👁 Показать список дат`, `✅ Создать`.

**Тосты:**
- `✅ Создано: N (пропущено: K)`

---

## 4. Управление расписанием
- Список дат (14 ближайших) + `📅 Все слоты`.
- Список слотов (цветовые статусы: 🟢 🟡 🔴 ⚪ ⚫).
- Карточка слота:
  Кнопки:
  - `👨‍🎓 Студенты`
  - `🟢 Открыть / 🚫 Закрыть`
  - `❌ Удалить`
  - `⬅️ Назад`

**Тосты:**
- `✅ Слот открыт`
- `🚫 Слот закрыт`
- `🗑 Слот удалён`
- `🚪 Удаление отменено`

---

## 5. Мои пресеты
Кнопки:
```
➕ Создать пресет
👁 Просмотр пресетов
🗑 Удалить пресет
⬅️ Назад
```

### ➕ Создать пресет
Пошагово:
- Название (текст).
- Формат: `🏫 Очно` / `🖥 Онлайн`.
- День недели: `Пн…Вс`.
- Время (старт→финиш).
- Длительность: `15/20/25/30`, «Больше…».
- Вместимость: как в создании слотов.
- Предпросмотр карточки.
- Кнопка: `✅ Сохранить пресет`.

**Тосты:**
- `✅ Пресет сохранён`

### 👁 Просмотр пресетов
- Список (личные + глобальные).
- Карточка пресета: кнопки `⬅️ Назад`, `🗑 Удалить` (только для личных).

### 🗑 Удалить пресет
- Список личных пресетов.
- Подтверждение: «Удалить этот пресет?»
- Кнопки: `✅ Да, удалить`, `⬅️ Отмена`.

**Тосты:**
- `🗑 Пресет удалён`
- `🚪 Удаление отменено`

---

## 6. Методические материалы
- Список недель: `W01 — Тема`.
- Карточка недели:
  - Кнопки:
    - `📄 Материалы недели`
    - `📘 Материалы для преподавателя`
    - `📚 Конспект`
    - `📊 Презентация`
    - `🎥 Запись лекции`
    - `⬅️ Назад`

**Тосты:**
- `✅ Файл отправлен`
- `✅ Ссылка отправлена`

---

## 7. Проверка работ

### Экран выбора
Кнопки:
```
📅 По дате/слоту
🔎 По студенту
⬅️ Назад
```

### 📅 По дате/слоту
- Даты: кнопки «−2 / −1 / Сегодня / +1 / +2», `🗓 Все даты`.
- Список слотов (цветовые статусы).
- Карточка слота: кнопка `Студенты`.
- Список студентов: кнопки «Фамилия Имя — Группа».
- Карточка студента:
  - `📥 Получить решение`
  - `🏁 Поставить оценку`

**Тосты:**
- `📎 Отправлено N вложений`
- `📭 У студента нет загруженных материалов`
- `✅ Оценка сохранена`
- `✏️ Комментарий добавлен`

### 🔎 По студенту
- Ввод фамилии (текст).
- Список совпадений.
- Карточка студента: список недель.
- Выбор недели → `📥 Получить решение`, `🏁 Поставить оценку`.

## Каталог ошибок (дополнено v0.10 final)
- ⛔ Сессия истекла. Начните заново. (TTL 15 минут для состояний)
- ⛔ Время финиша должно быть позже старта.
- ⛔ Длительность должна быть не менее 10 минут и не более 120 минут.
- ⛔ Достигнут дневной лимит длительности.
- ⛔ Конфликт слотов (пересечение интервалов).
- ⛔ Превышена вместимость.
- ⛔ Применение пресета отклонено: обнаружены конфликты (атомарный режим).

---
